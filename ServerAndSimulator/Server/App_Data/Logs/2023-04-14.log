2023-04-14 16:08:48.6343 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:08:49.5863 | 12 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory | Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-04-14 16:08:50.1452 | 1 | DEBUG | Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver | Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2023-04-14 16:08:50.1841 | 1 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting starting 
2023-04-14 16:08:50.4429 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: https://localhost:7014 
2023-04-14 16:08:50.4429 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: http://localhost:5169 
2023-04-14 16:08:50.4429 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly WebAPI 
2023-04-14 16:08:50.4429 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2023-04-14 16:08:50.4429 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2023-04-14 16:08:50.4429 | 0 | INFO | Microsoft.Hosting.Lifetime | Application started. Press Ctrl+C to shut down. 
2023-04-14 16:08:50.4429 | 0 | INFO | Microsoft.Hosting.Lifetime | Hosting environment: Development 
2023-04-14 16:08:50.4429 | 0 | INFO | Microsoft.Hosting.Lifetime | Content root path: D:\מכללת סלע\פרוייקט סיום\FinalProject\Server 
2023-04-14 16:08:50.4549 | 9 | TRACE | Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager | Starting connection heartbeat. 
2023-04-14 16:08:50.4549 | 2 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting started 
2023-04-14 16:08:50.4549 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63O" accepted. 
2023-04-14 16:08:50.4549 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63O" started. 
2023-04-14 16:08:50.4725 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63P" accepted. 
2023-04-14 16:08:50.4725 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63P" started. 
2023-04-14 16:08:52.2612 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63Q" accepted. 
2023-04-14 16:08:52.2764 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63Q" started. 
2023-04-14 16:08:52.3872 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPST5HUS63Q established using the following protocol: Tls12 
2023-04-14 16:08:52.5344 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-04-14 16:08:52.5506 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:08:52.5506 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" received SETTINGS frame for stream ID 0 with length 30 and flags NONE. 
2023-04-14 16:08:52.5506 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:08:52.5506 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:08:52.5506 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" received HEADERS frame for stream ID 1 with length 464 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-04-14 16:08:52.6047 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:08:52.7539 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/2 GET https://localhost:7014/weatherforecast - - 
2023-04-14 16:08:52.8070 | 0 | DEBUG | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | Wildcard detected, all requests with hosts will be allowed. 
2023-04-14 16:08:52.8070 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:08:52.8530 | 1000 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | No candidates found for the request path '/weatherforecast' 
2023-04-14 16:08:52.8530 | 2 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request did not match any endpoints 
2023-04-14 16:08:52.8758 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/2 GET https://localhost:7014/weatherforecast - - - 404 0 - 126.0961ms 
2023-04-14 16:08:52.9092 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST5HUS63Q" sending HEADERS frame for stream ID 1 with length 45 and flags END_STREAM, END_HEADERS. 
2023-04-14 16:09:00.4962 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Authentication of the HTTPS connection timed out. 
2023-04-14 16:09:00.4962 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Authentication of the HTTPS connection timed out. 
2023-04-14 16:09:00.4962 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63O" stopped. 
2023-04-14 16:09:00.4962 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63P" stopped. 
2023-04-14 16:09:00.5057 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST5HUS63O" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:09:00.5057 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST5HUS63P" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:10:51.4319 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63R" accepted. 
2023-04-14 16:10:51.4319 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST5HUS63R" received FIN. 
2023-04-14 16:10:51.4319 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63R" started. 
2023-04-14 16:10:51.4443 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63S" accepted. 
2023-04-14 16:10:51.4443 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63S" started. 
2023-04-14 16:10:51.4443 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:10:51.4899 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63R" stopped. 
2023-04-14 16:10:51.4443 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPST5HUS63S established using the following protocol: Tls12 
2023-04-14 16:10:51.4899 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST5HUS63R" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:10:51.5054 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 
2023-04-14 16:10:51.5054 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:10:51.5054 | 1001 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | 1 candidate(s) found for the request path '/api/flights' 
2023-04-14 16:10:51.5054 | 1005 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | Endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' with route pattern 'api/Flights' is valid for the request path '/api/flights' 
2023-04-14 16:10:51.5054 | 1 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request matched endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:10:51.5054 | 0 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executing endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:10:51.5529 | 102 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Route matched with {action = "Post", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task Post(Server.DAL.Models.Flight) on controller Server.Controllers.FlightsController (WebAPI). 
2023-04-14 16:10:51.5529 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of authorization filters (in the following order): None 
2023-04-14 16:10:51.5529 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of resource filters (in the following order): None 
2023-04-14 16:10:51.5529 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-04-14 16:10:51.5529 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of exception filters (in the following order): None 
2023-04-14 16:10:51.5529 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-04-14 16:10:51.5529 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:10:52.0982 | 10401 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-04-14 16:10:52.1636 | 0 | DEBUG | Server.DAL.DataContext | NLog injected into DataContext 
2023-04-14 16:10:52.1745 | 0 | DEBUG | Server.DAL.Repositories.AirportRepository | NLog injected into AirportRepository 
2023-04-14 16:10:52.2012 | 0 | DEBUG | WebAPI.Services.FlightsLogsHubContext | NLog injected into FlightsLogsHubContext 
2023-04-14 16:10:52.2012 | 0 | DEBUG | Server.Services.FlightsManagerService | NLog injected into FlightsManagerService 
2023-04-14 16:10:52.2012 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Loading legs... 
2023-04-14 16:10:52.2048 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to get legs list from database... 
2023-04-14 16:10:52.6526 | 0 | INFO | Server.DAL.DataContext | DataContext: Validating and creating data in database... 
2023-04-14 16:10:52.6526 | 0 | INFO | Server.DAL.DataContext | DataContext: validated data! 
2023-04-14 16:10:53.2057 | 10403 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | Entity Framework Core 7.0.4 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.4' with options: MigrationsAssembly=WebAPI  
2023-04-14 16:10:53.5694 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Leg>()' 
2023-04-14 16:10:53.7255 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Leg>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Leg.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Leg.ChangePlaneStatus (bool) Required, 1], [Property: Leg.CrossingTime (int) Required, 2], [Property: Leg.IsDepartureLeg (bool) Required, 3], [Property: Leg.IsOccupied (bool) Required, 4], [Property: Leg.IsStartingLeg (bool) Required, 5], [Property: Leg.NextLegs (Legs) Required, 6], [Property: Leg.Number (Legs) Required, 7], [Property: Leg.RepresentationalNumber (int) Required, 8] }
        SELECT l.Id, l.ChangePlaneStatus, l.CrossingTime, l.IsDepartureLeg, l.IsOccupied, l.IsStartingLeg, l.NextLegs, l.Number, l.RepresentationalNumber
        FROM Legs AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Leg>, 
    Server.DAL.DataContext, 
    False, 
    False, 
    True
)' 
2023-04-14 16:10:53.7681 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:53.7681 | 20005 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Creating DbConnection. 
2023-04-14 16:10:53.8085 | 20006 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Created DbConnection. (36ms). 
2023-04-14 16:10:53.8260 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (55ms). 
2023-04-14 16:10:53.8260 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (62ms). 
2023-04-14 16:10:53.8358 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.0573 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.0657 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l] 
2023-04-14 16:10:55.1808 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (117ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l] 
2023-04-14 16:10:55.2171 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.2360 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.2360 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 54ms reading results. 
2023-04-14 16:10:55.2360 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.2557 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (4ms). 
2023-04-14 16:10:55.2557 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs list found and returned! 
2023-04-14 16:10:55.3127 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Legs Loaded! 
2023-04-14 16:10:55.3145 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Clearing legs... 
2023-04-14 16:10:55.3145 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Legs cleared! 
2023-04-14 16:10:55.3145 | 0 | DEBUG | Server.Controllers.FlightsController | NLog injected into FlightsController 
2023-04-14 16:10:55.3145 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:10:55.3440 | 22 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:10:55.3490 | 44 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' using the name '' in request data ... 
2023-04-14 16:10:55.3490 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-04-14 16:10:55.3933 | 25 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPST5HUS63S", Request id "0HMPST5HUS63S:00000001": started reading request body. 
2023-04-14 16:10:55.3933 | 26 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPST5HUS63S", Request id "0HMPST5HUS63S:00000001": done reading request body. 
2023-04-14 16:10:55.3933 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter | JSON input formatter succeeded, deserializing to type 'Server.DAL.Models.Flight' 
2023-04-14 16:10:55.3933 | 45 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:10:55.3933 | 23 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:10:55.3933 | 26 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:10:55.4095 | 27 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:10:55.4095 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:10:55.4095 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:10:55.4095 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:10:55.4095 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:10:55.4095 | 101 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) - Validation state: Valid 
2023-04-14 16:10:55.4095 | 102 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) with arguments (Server.DAL.Models.Flight) 
2023-04-14 16:10:55.4095 | 0 | INFO | Server.Controllers.FlightsController | FlightsController - POST: Got new flight! - cc328fc6 - Elimelech Airlines - 123 
2023-04-14 16:10:55.4095 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new flight (cc328fc6-a947-4cf4-b3f9-0fedcb4468e9) to database... 
2023-04-14 16:10:55.4353 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Flight"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.4555 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Flight' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.4555 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:55.4555 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:55.5303 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:55.6563 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.6563 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.6590 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:55.6590 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:55.6590 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-04-14 16:10:55.6590 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:10:55.9194 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (257ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:10:55.9272 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Flight.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:55.9272 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.9272 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 11ms reading results. 
2023-04-14 16:10:55.9272 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:55.9272 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:55.9405 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:55.9405 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:10:55.9405 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (cc328fc6-a947-4cf4-b3f9-0fedcb4468e9) added! 
2023-04-14 16:10:55.9405 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Air - Waiting: 0 seconds to cross 
2023-04-14 16:10:55.9555 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:10:55.9555 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Leg>()
    .FirstOrDefault(l => l.Id == __leg_Id_0)' 
2023-04-14 16:10:56.0493 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Leg>(
    asyncEnumerable: new SingleQueryingEnumerable<Leg>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Leg.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Leg.ChangePlaneStatus (bool) Required, 1], [Property: Leg.CrossingTime (int) Required, 2], [Property: Leg.IsDepartureLeg (bool) Required, 3], [Property: Leg.IsOccupied (bool) Required, 4], [Property: Leg.IsStartingLeg (bool) Required, 5], [Property: Leg.NextLegs (Legs) Required, 6], [Property: Leg.Number (Legs) Required, 7], [Property: Leg.RepresentationalNumber (int) Required, 8] }
            SELECT TOP(1) l.Id, l.ChangePlaneStatus, l.CrossingTime, l.IsDepartureLeg, l.IsOccupied, l.IsStartingLeg, l.NextLegs, l.Number, l.RepresentationalNumber
            FROM Legs AS l
            WHERE l.Id == @__leg_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Leg>, 
        Server.DAL.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-04-14 16:10:56.0493 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:56.0493 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.0493 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.0493 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.0493 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.0493 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:56.0493 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:56.0493 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.0493 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:56.0493 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.0493 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:56.0493 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:10:56.0493 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Air) in context... 
2023-04-14 16:10:56.0493 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:56.0493 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.0493 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.0493 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.0493 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.0493 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:56.0648 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:56.1172 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1172 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:56.1172 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1172 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:56.1172 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Air) updated in context! 
2023-04-14 16:10:56.1172 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:10:56.1172 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:56.1172 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:56.1172 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:56.1172 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:56.1172 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:56.1172 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1172 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1172 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:56.1172 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.1172 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.1172 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:10:56.1310 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:10:56.1310 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1310 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:10:56.1310 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1310 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:56.1310 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:56.1310 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:10:56.1310 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:10:56.1310 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:10:56.1310 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:56.1469 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:56.1469 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:56.1469 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:56.1469 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:56.1469 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1469 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1469 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:56.1469 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.1469 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:56.1469 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:10:56.1469 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:10:56.1469 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:56.1469 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1469 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:10:56.1469 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:56.1469 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:56.1469 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:56.1469 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:10:56.1469 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:10:56.1577 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:10:56.1577 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:10:56.1577 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: First - Waiting: 1 seconds to cross 
2023-04-14 16:10:57.1742 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:10:57.1742 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:57.1742 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.1742 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.1742 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:57.1742 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:57.1742 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:57.1742 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:57.1742 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:10:57.1742 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:10:57.1742 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:57.1742 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.1742 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.1742 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:57.1742 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:57.1742 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:57.1742 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.1742 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:57.1742 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:10:57.1742 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:10:57.1742 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:57.1742 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:57.1742 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:57.1742 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.1742 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:57.1742 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.1742 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:57.2142 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:10:57.2142 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2142 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2142 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:10:57.2238 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:10:57.2238 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:57.2238 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.2238 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (1ms). 
2023-04-14 16:10:57.2238 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:10:57.2238 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:10:57.2238 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2238 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:57.2406 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:10:57.2406 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:10:57.2406 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2406 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:57.2406 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:10:57.2406 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.2406 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.2406 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:10:57.2406 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:10:57.2406 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:10:57.2406 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.2406 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.2406 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:57.2406 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:57.2406 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:57.2406 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2406 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2406 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:57.2406 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.2406 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:57.2406 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:10:57.2406 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:10:57.2406 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:57.2406 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2406 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:57.2406 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:57.2406 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:57.2406 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:57.2406 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:10:57.2406 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:10:57.2406 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:10:57.2535 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:10:57.2535 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Second - Waiting: 2 seconds to cross 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:10:59.2705 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:59.2705 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2705 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2705 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:59.2705 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:59.2705 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:59.2705 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:10:59.2705 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:59.2705 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2705 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2705 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:59.2705 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:10:59.2705 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:59.2705 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:10:59.2705 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:59.2705 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:59.2705 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:59.2705 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2705 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:59.2705 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2705 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:59.2705 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:10:59.2705 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:10:59.2705 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:10:59.2705 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:59.2705 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2705 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2705 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:10:59.2705 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:10:59.2705 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:59.2705 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:10:59.2705 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:10:59.2705 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2705 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:59.2705 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:10:59.2705 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2705 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2705 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:10:59.2705 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:10:59.2824 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2824 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2824 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:10:59.2824 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:10:59.2824 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:10:59.2824 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2824 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2824 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:10:59.2824 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2824 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:10:59.2824 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:10:59.2824 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:10:59.2824 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:10:59.2824 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2824 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:10:59.2824 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:10:59.2824 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:10:59.2824 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:10:59.2824 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:10:59.2824 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:10:59.2824 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:10:59.2824 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:10:59.2824 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Third - Waiting: 3 seconds to cross 
2023-04-14 16:11:02.2871 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:11:02.2871 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:02.2871 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2871 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2871 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:02.2871 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:02.2871 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:02.2871 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:02.2871 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:11:02.2871 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:11:02.2871 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:02.2871 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2871 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2871 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:02.2871 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:02.2871 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:02.2871 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:02.2871 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:11:02.2871 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:11:02.2871 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:02.2871 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:02.2871 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:02.2871 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2871 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:02.2871 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2871 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:02.2871 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:11:02.2871 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:11:02.2871 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:11:02.2871 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:02.2871 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2871 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2871 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:02.2871 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:02.2871 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:02.2871 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:11:02.2871 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:11:02.2871 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2871 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:02.2871 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:11:02.2980 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2980 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2980 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:11:02.2980 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:11:02.2980 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:11:02.2980 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2980 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2980 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:02.2980 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:02.2980 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:02.2980 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2980 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2980 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:02.2980 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2980 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:02.2980 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:02.2980 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:02.2980 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:02.2980 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2980 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:02.2980 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:02.2980 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:02.2980 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:02.2980 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:02.2980 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:11:02.2980 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:11:02.2980 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:11:02.2980 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:11:07.3477 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:11:07.4321 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:07.4321 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4321 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4321 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:07.4321 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:07.4321 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:07.4321 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:07.4321 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:11:07.4321 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:11:07.4321 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:07.4321 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4321 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4321 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:07.4321 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:07.4321 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:07.4321 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:07.4321 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:11:07.4321 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:11:07.4321 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:07.4321 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:07.4321 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:07.4321 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4321 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:07.4321 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4321 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:07.4321 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:11:07.4321 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4321 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:11:07.4321 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:11:07.4321 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:07.4321 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4321 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4384 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:07.4384 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:07.4384 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4384 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:07.4384 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:11:07.4384 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:11:07.4384 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4384 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:07.4384 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:11:07.4384 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4384 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4384 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:11:07.4384 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:11:07.4384 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:11:07.4384 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4384 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4384 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:07.4384 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:07.4384 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:07.4384 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4384 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4384 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:07.4384 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4384 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:07.4384 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:07.4384 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:07.4384 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:07.4384 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4384 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:07.4384 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:07.4384 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:07.4384 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:07.4384 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:07.4384 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:11:07.4384 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:11:07.4384 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:11:07.4384 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fifth - Waiting: 3 seconds to cross 
2023-04-14 16:11:10.4603 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:11:10.4603 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:10.4603 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4603 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4603 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:10.4603 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:10.4603 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:10.4603 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:10.4603 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:11:10.4603 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:11:10.4603 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:10.4603 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4603 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4603 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:10.4603 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:10.4603 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:10.4603 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:10.4603 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:11:10.4603 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:11:10.4603 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:10.4603 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:10.4603 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:10.4603 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4603 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:10.4603 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4603 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:10.4603 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:11:10.4603 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:11:10.4603 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:11:10.4603 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:10.4603 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4603 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4603 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:10.4603 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:10.4603 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4603 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:10.4603 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:11:10.4699 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:11:10.4699 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4699 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:10.4699 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:11:10.4699 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4699 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4699 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:11:10.4699 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:11:10.4699 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:11:10.4699 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4699 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4699 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:10.4699 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:10.4699 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:10.4699 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4699 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4699 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:10.4699 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4699 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:10.4699 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:10.4699 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:10.4699 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:10.4699 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4699 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:10.4699 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:10.4699 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:10.4699 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:10.4699 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:10.4699 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:11:10.4699 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:11:10.4699 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:11:10.4699 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Sixth - Waiting: 10 seconds to cross 
2023-04-14 16:11:20.4910 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update flight (2) in database... 
2023-04-14 16:11:20.5526 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Flight>()
    .FirstOrDefault(f => f.Id == __flight_Id_0)' 
2023-04-14 16:11:20.5526 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Flight>(
    asyncEnumerable: new SingleQueryingEnumerable<Flight>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Flight.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Flight.BrandName (string) Required, 1], [Property: Flight.IsDeparture (bool) Required, 2], [Property: Flight.Number (string) Required, 3], [Property: Flight.PassengersCount (int) Required, 4] }
            SELECT TOP(1) f.Id, f.BrandName, f.IsDeparture, f.Number, f.PassengersCount
            FROM Flights AS f
            WHERE f.Id == @__flight_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Flight>, 
        Server.DAL.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-04-14 16:11:20.5526 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:20.5526 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5526 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5526 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5526 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5526 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:11:20.5526 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (5ms) [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:11:20.5526 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5526 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:11:20.5526 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5526 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:20.5526 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:20.5526 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:20.5526 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Flight.IsDeparture' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:20.5526 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5526 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:20.5526 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5526 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5526 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:20.5526 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5526 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5526 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:11:20.5666 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:11:20.5666 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:20.5666 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:20.5666 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (2) updated in database! 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:11:20.5666 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:20.5666 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:20.5666 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:20.5666 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:20.5666 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:11:20.5666 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:20.5666 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:20.5666 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:20.5666 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:20.5666 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:11:20.5666 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:20.5666 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:20.5666 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:20.5666 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:20.5666 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:20.5666 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:11:20.5666 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:11:20.5666 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:11:20.5666 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:20.5666 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:20.5666 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:20.5666 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:20.5666 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:11:20.5666 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:11:20.5666 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:20.5666 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:11:20.5666 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:11:20.5666 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:20.5666 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:20.5666 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:20.5666 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:20.5666 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:20.5666 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:20.5666 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:20.5666 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:20.5666 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:20.5666 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:20.5666 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:20.5666 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:20.5666 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:11:20.5666 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:11:20.5666 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:11:20.5666 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: True - Is now in leg: Eighth - Waiting: 5 seconds to cross 
2023-04-14 16:11:25.5898 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:11:25.5898 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:25.5898 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5898 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5898 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5898 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5898 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:25.5898 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:25.5898 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5898 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:25.5898 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5898 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:25.5898 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:11:25.5948 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:25.5948 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5948 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5948 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:25.5948 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:25.5948 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:25.5948 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:11:25.5948 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:25.5948 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:25.5948 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:25.5948 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:25.5948 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:25.5948 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:11:25.5948 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:11:25.5948 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:11:25.5948 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:25.5948 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5948 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5948 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:25.5948 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:11:25.5948 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:25.5948 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:11:25.5948 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:11:25.5948 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:25.5948 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:11:25.5948 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:11:25.5948 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:25.5948 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:25.5948 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:25.5948 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:25.5948 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5948 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:25.5948 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:25.5948 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:25.5948 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:25.5948 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:25.5948 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:25.5948 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:25.5948 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:25.5948 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:11:25.5948 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:11:25.5948 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:11:25.5948 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: True - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:11:30.6225 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:11:30.6225 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:30.6225 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:30.6225 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:30.6225 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6225 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6225 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:30.6225 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:11:30.6225 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6225 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:30.6225 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6225 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:30.6225 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:11:30.6270 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:11:30.6270 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:30.6270 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:30.6270 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:30.6270 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:30.6270 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:30.6270 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:30.6270 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:30.6270 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:30.6270 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:11:30.6270 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:11:30.6270 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:30.6270 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:30.6270 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:30.6270 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:30.6270 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:11:30.6270 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:11:30.6270 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:30.6270 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:30.6270 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:11:30.6270 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:11:30.6270 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:11:30.6270 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:11:30.6270 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:30.6270 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:11:30.6270 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:30.6270 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:11:30.6270 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:11:30.6270 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:11:30.6270 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6270 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:11:30.6270 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:11:30.6270 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:11:30.6270 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:11:30.6270 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:11:30.6270 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:11:30.6270 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: cc328fc6 (id: 2) is now departing! 
2023-04-14 16:11:30.6270 | 103 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action method Server.Controllers.FlightsController.Post (WebAPI), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 35221.1723ms. 
2023-04-14 16:11:30.6270 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:11:30.6270 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:11:30.6417 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:11:30.6417 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:11:30.6417 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:11:30.6417 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:11:30.6417 | 5 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Before executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:11:30.6417 | 6 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | After executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:11:30.6417 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:11:30.6417 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:11:30.6417 | 105 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action Server.Controllers.FlightsController.Post (WebAPI) in 39092.2912ms 
2023-04-14 16:11:30.6417 | 1 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executed endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:11:30.6609 | 9 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST5HUS63S" completed keep alive response. 
2023-04-14 16:11:30.6609 | 10407 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | 'DataContext' disposed. 
2023-04-14 16:11:30.6609 | 20007 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:11:30.6609 | 20008 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposed connection to database '' on server '' (1ms). 
2023-04-14 16:11:30.6609 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 - 200 0 - 39164.5280ms 
2023-04-14 16:13:30.9807 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:13:31.1464 | 12 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory | Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-04-14 16:13:31.1854 | 1 | DEBUG | Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver | Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2023-04-14 16:13:31.1945 | 1 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting starting 
2023-04-14 16:13:31.2747 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: https://localhost:7014 
2023-04-14 16:13:31.2747 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: http://localhost:5169 
2023-04-14 16:13:31.2747 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly WebAPI 
2023-04-14 16:13:31.2747 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2023-04-14 16:13:31.2747 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2023-04-14 16:13:31.2747 | 0 | INFO | Microsoft.Hosting.Lifetime | Application started. Press Ctrl+C to shut down. 
2023-04-14 16:13:31.2747 | 0 | INFO | Microsoft.Hosting.Lifetime | Hosting environment: Development 
2023-04-14 16:13:31.2747 | 0 | INFO | Microsoft.Hosting.Lifetime | Content root path: D:\מכללת סלע\פרוייקט סיום\FinalProject\Server 
2023-04-14 16:13:31.2747 | 9 | TRACE | Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager | Starting connection heartbeat. 
2023-04-14 16:13:31.2747 | 2 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting started 
2023-04-14 16:13:31.7488 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RO" accepted. 
2023-04-14 16:13:31.7488 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RN" accepted. 
2023-04-14 16:13:31.7488 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RN" started. 
2023-04-14 16:13:31.7488 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RO" started. 
2023-04-14 16:13:31.7752 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST85PD1RO" received FIN. 
2023-04-14 16:13:31.7752 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST85PD1RN" received FIN. 
2023-04-14 16:13:31.7752 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:13:31.7752 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:13:31.7940 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RO" stopped. 
2023-04-14 16:13:31.7940 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RN" stopped. 
2023-04-14 16:13:31.7940 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST85PD1RN" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:13:31.7940 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST85PD1RO" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:13:31.9298 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RP" accepted. 
2023-04-14 16:13:31.9298 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST85PD1RP" started. 
2023-04-14 16:13:31.9612 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPST85PD1RP established using the following protocol: Tls12 
2023-04-14 16:13:31.9844 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-04-14 16:13:31.9864 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:13:31.9864 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" received SETTINGS frame for stream ID 0 with length 30 and flags NONE. 
2023-04-14 16:13:31.9864 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:13:31.9864 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:13:31.9864 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" received HEADERS frame for stream ID 1 with length 464 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-04-14 16:13:32.0067 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:13:32.0067 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/2 GET https://localhost:7014/weatherforecast - - 
2023-04-14 16:13:32.0808 | 0 | DEBUG | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | Wildcard detected, all requests with hosts will be allowed. 
2023-04-14 16:13:32.0808 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:13:32.1016 | 1000 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | No candidates found for the request path '/weatherforecast' 
2023-04-14 16:13:32.1016 | 2 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request did not match any endpoints 
2023-04-14 16:13:32.1016 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/2 GET https://localhost:7014/weatherforecast - - - 404 0 - 93.8297ms 
2023-04-14 16:13:32.1016 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST85PD1RP" sending HEADERS frame for stream ID 1 with length 45 and flags END_STREAM, END_HEADERS. 
2023-04-14 16:14:54.7083 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:14:54.9224 | 12 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory | Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-04-14 16:14:54.9700 | 1 | DEBUG | Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver | Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2023-04-14 16:14:54.9833 | 1 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting starting 
2023-04-14 16:14:55.0630 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: https://localhost:7014 
2023-04-14 16:14:55.0666 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: http://localhost:5169 
2023-04-14 16:14:55.0666 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly WebAPI 
2023-04-14 16:14:55.0666 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2023-04-14 16:14:55.0666 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2023-04-14 16:14:55.0666 | 0 | INFO | Microsoft.Hosting.Lifetime | Application started. Press Ctrl+C to shut down. 
2023-04-14 16:14:55.0666 | 0 | INFO | Microsoft.Hosting.Lifetime | Hosting environment: Development 
2023-04-14 16:14:55.0666 | 0 | INFO | Microsoft.Hosting.Lifetime | Content root path: D:\מכללת סלע\פרוייקט סיום\FinalProject\Server 
2023-04-14 16:14:55.0666 | 9 | TRACE | Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager | Starting connection heartbeat. 
2023-04-14 16:14:55.0666 | 2 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting started 
2023-04-14 16:14:55.4528 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFG" received FIN. 
2023-04-14 16:14:55.4528 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFH" received FIN. 
2023-04-14 16:14:55.4565 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFH" accepted. 
2023-04-14 16:14:55.4565 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFG" accepted. 
2023-04-14 16:14:55.4565 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFG" started. 
2023-04-14 16:14:55.4565 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFH" started. 
2023-04-14 16:14:55.4565 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:14:55.4565 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:14:55.4810 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFG" stopped. 
2023-04-14 16:14:55.4810 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFH" stopped. 
2023-04-14 16:14:55.4810 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFG" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:14:55.4810 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:14:55.5387 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFI" accepted. 
2023-04-14 16:14:55.5387 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFI" started. 
2023-04-14 16:14:55.5789 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPST8UNLGFI established using the following protocol: Tls12 
2023-04-14 16:14:55.6146 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-04-14 16:14:55.6146 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:14:55.6146 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" received SETTINGS frame for stream ID 0 with length 30 and flags NONE. 
2023-04-14 16:14:55.6146 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:14:55.6146 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:14:55.6146 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" received HEADERS frame for stream ID 1 with length 464 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-04-14 16:14:55.6340 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:14:55.6445 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/2 GET https://localhost:7014/weatherforecast - - 
2023-04-14 16:14:55.6596 | 0 | DEBUG | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | Wildcard detected, all requests with hosts will be allowed. 
2023-04-14 16:14:55.6596 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:14:55.6806 | 1000 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | No candidates found for the request path '/weatherforecast' 
2023-04-14 16:14:55.6806 | 2 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request did not match any endpoints 
2023-04-14 16:14:55.6885 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/2 GET https://localhost:7014/weatherforecast - - - 404 0 - 44.8971ms 
2023-04-14 16:14:55.6885 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" sending HEADERS frame for stream ID 1 with length 45 and flags END_STREAM, END_HEADERS. 
2023-04-14 16:15:16.2530 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFJ" received FIN. 
2023-04-14 16:15:16.2828 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFJ" accepted. 
2023-04-14 16:15:16.2828 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFJ" started. 
2023-04-14 16:15:16.2828 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFK" accepted. 
2023-04-14 16:15:16.2828 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFK" started. 
2023-04-14 16:15:16.2828 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:15:16.2828 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFJ" stopped. 
2023-04-14 16:15:16.2828 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFJ" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:15:16.2828 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPST8UNLGFK established using the following protocol: Tls12 
2023-04-14 16:15:16.2828 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 
2023-04-14 16:15:16.2828 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:15:16.2997 | 1001 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | 1 candidate(s) found for the request path '/api/flights' 
2023-04-14 16:15:16.2997 | 1005 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | Endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' with route pattern 'api/Flights' is valid for the request path '/api/flights' 
2023-04-14 16:15:16.2997 | 1 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request matched endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:15:16.2997 | 0 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executing endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:15:16.3229 | 102 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Route matched with {action = "Post", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task Post(Server.DAL.Models.Flight) on controller Server.Controllers.FlightsController (WebAPI). 
2023-04-14 16:15:16.3229 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of authorization filters (in the following order): None 
2023-04-14 16:15:16.3229 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of resource filters (in the following order): None 
2023-04-14 16:15:16.3229 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-04-14 16:15:16.3229 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of exception filters (in the following order): None 
2023-04-14 16:15:16.3229 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-04-14 16:15:16.3587 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:15:16.4447 | 10401 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-04-14 16:15:16.4618 | 0 | DEBUG | Server.DAL.DataContext | NLog injected into DataContext 
2023-04-14 16:15:16.4871 | 0 | DEBUG | Server.DAL.Repositories.AirportRepository | NLog injected into AirportRepository 
2023-04-14 16:15:16.4871 | 0 | DEBUG | WebAPI.Services.FlightsLogsHubContext | NLog injected into FlightsLogsHubContext 
2023-04-14 16:15:16.4871 | 0 | DEBUG | Server.Services.FlightsManagerService | NLog injected into FlightsManagerService 
2023-04-14 16:15:16.4871 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Loading legs... 
2023-04-14 16:15:16.4871 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to get legs list from database... 
2023-04-14 16:15:16.6843 | 0 | INFO | Server.DAL.DataContext | DataContext: Validating and creating data in database... 
2023-04-14 16:15:16.6843 | 0 | INFO | Server.DAL.DataContext | DataContext: validated data! 
2023-04-14 16:15:16.9050 | 10403 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | Entity Framework Core 7.0.4 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.4' with options: MigrationsAssembly=WebAPI  
2023-04-14 16:15:16.9408 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Leg>()' 
2023-04-14 16:15:17.0393 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Leg>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Leg.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Leg.ChangePlaneStatus (bool) Required, 1], [Property: Leg.CrossingTime (int) Required, 2], [Property: Leg.IsDepartureLeg (bool) Required, 3], [Property: Leg.IsOccupied (bool) Required, 4], [Property: Leg.IsStartingLeg (bool) Required, 5], [Property: Leg.NextLegs (Legs) Required, 6], [Property: Leg.Number (Legs) Required, 7], [Property: Leg.RepresentationalNumber (int) Required, 8] }
        SELECT l.Id, l.ChangePlaneStatus, l.CrossingTime, l.IsDepartureLeg, l.IsOccupied, l.IsStartingLeg, l.NextLegs, l.Number, l.RepresentationalNumber
        FROM Legs AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Leg>, 
    Server.DAL.DataContext, 
    False, 
    False, 
    True
)' 
2023-04-14 16:15:17.0626 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:17.0639 | 20005 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Creating DbConnection. 
2023-04-14 16:15:17.0639 | 20006 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Created DbConnection. (12ms). 
2023-04-14 16:15:17.0842 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (19ms). 
2023-04-14 16:15:17.0842 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (24ms). 
2023-04-14 16:15:17.0842 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.2250 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.2250 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l] 
2023-04-14 16:15:17.2600 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l] 
2023-04-14 16:15:17.2782 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.2997 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.2997 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 46ms reading results. 
2023-04-14 16:15:17.2997 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.3170 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (4ms). 
2023-04-14 16:15:17.3170 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs list found and returned! 
2023-04-14 16:15:17.3170 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Legs Loaded! 
2023-04-14 16:15:17.3170 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Clearing legs... 
2023-04-14 16:15:17.3170 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Legs cleared! 
2023-04-14 16:15:17.3170 | 0 | DEBUG | Server.Controllers.FlightsController | NLog injected into FlightsController 
2023-04-14 16:15:17.3170 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:15:17.3170 | 22 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:15:17.3170 | 44 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' using the name '' in request data ... 
2023-04-14 16:15:17.3170 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-04-14 16:15:17.3536 | 25 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPST8UNLGFK", Request id "0HMPST8UNLGFK:00000001": started reading request body. 
2023-04-14 16:15:17.3536 | 26 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPST8UNLGFK", Request id "0HMPST8UNLGFK:00000001": done reading request body. 
2023-04-14 16:15:17.3536 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter | JSON input formatter succeeded, deserializing to type 'Server.DAL.Models.Flight' 
2023-04-14 16:15:17.3536 | 45 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:15:17.3536 | 23 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:15:17.3536 | 26 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:15:17.3660 | 27 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:15:17.3660 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:15:17.3660 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:15:17.3660 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:15:17.3660 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:15:17.3660 | 101 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) - Validation state: Valid 
2023-04-14 16:15:17.3660 | 102 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) with arguments (Server.DAL.Models.Flight) 
2023-04-14 16:15:17.3660 | 0 | INFO | Server.Controllers.FlightsController | FlightsController - POST: Got new flight! - 64020b79 - Elimelech Airlines - 123 
2023-04-14 16:15:17.3660 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new flight (64020b79-ecf7-4e6a-b0ff-77e43b63fd89) to database... 
2023-04-14 16:15:17.3878 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Flight"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.4091 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Flight' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.4091 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:17.4091 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:17.4326 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:17.4852 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.4852 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.4852 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:17.4852 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.4852 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (3ms). 
2023-04-14 16:15:17.4852 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:15:17.5064 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:15:17.5064 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Flight.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:17.5192 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5192 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 12ms reading results. 
2023-04-14 16:15:17.5192 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5192 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:17.5192 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.5192 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:17.5192 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (64020b79-ecf7-4e6a-b0ff-77e43b63fd89) added! 
2023-04-14 16:15:17.5365 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Air - Waiting: 0 seconds to cross 
2023-04-14 16:15:17.5365 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:15:17.5365 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Leg>()
    .FirstOrDefault(l => l.Id == __leg_Id_0)' 
2023-04-14 16:15:17.5968 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Leg>(
    asyncEnumerable: new SingleQueryingEnumerable<Leg>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Leg.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Leg.ChangePlaneStatus (bool) Required, 1], [Property: Leg.CrossingTime (int) Required, 2], [Property: Leg.IsDepartureLeg (bool) Required, 3], [Property: Leg.IsOccupied (bool) Required, 4], [Property: Leg.IsStartingLeg (bool) Required, 5], [Property: Leg.NextLegs (Legs) Required, 6], [Property: Leg.Number (Legs) Required, 7], [Property: Leg.RepresentationalNumber (int) Required, 8] }
            SELECT TOP(1) l.Id, l.ChangePlaneStatus, l.CrossingTime, l.IsDepartureLeg, l.IsOccupied, l.IsStartingLeg, l.NextLegs, l.Number, l.RepresentationalNumber
            FROM Legs AS l
            WHERE l.Id == @__leg_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Leg>, 
        Server.DAL.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-04-14 16:15:17.5968 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:17.5968 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.5968 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.5968 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:17.5968 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:17.5968 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:17.5968 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:17.5968 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:15:17.5968 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Air) in context... 
2023-04-14 16:15:17.5968 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:17.5968 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.5968 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.5968 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:17.5968 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:17.5968 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:17.5968 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.5968 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:17.5968 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Air) updated in context! 
2023-04-14 16:15:17.5968 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:17.5968 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:17.5968 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:17.6107 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:17.6107 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.6107 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:17.6107 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6107 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6107 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:17.6107 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.6107 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.6107 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:15:17.6107 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:15:17.6107 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6107 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:15:17.6107 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6107 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:17.6107 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.6107 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:17.6107 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:17.6107 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:17.6107 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.6311 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.6311 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:17.6311 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:17.6311 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:17.6311 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6311 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6311 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:17.6311 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.6311 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:17.6311 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:17.6311 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:17.6311 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:17.6311 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6311 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:15:17.6311 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:17.6311 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:17.6311 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:17.6311 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:17.6311 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:17.6311 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:17.6311 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:17.6311 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: First - Waiting: 1 seconds to cross 
2023-04-14 16:15:18.6448 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:15:18.6448 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:18.6448 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6448 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6448 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:18.6448 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:18.6448 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:18.6448 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:18.6448 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:15:18.6448 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:15:18.6448 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:18.6448 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6448 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6448 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:18.6448 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:18.6448 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:18.6448 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:18.6448 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:15:18.6448 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:18.6448 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:18.6448 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:18.6448 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:18.6448 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6448 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:18.6448 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6448 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:18.6448 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:18.6448 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6448 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:18.6574 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:18.6574 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:18.6574 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6574 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6574 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:18.6574 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:18.6574 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6574 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:18.6574 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:18.6574 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:18.6574 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6574 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:18.6574 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:18.6574 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6574 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6574 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:18.6574 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:18.6574 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:18.6574 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6574 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6574 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:18.6574 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:18.6574 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:18.6574 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6574 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6574 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:18.6574 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6574 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:18.6574 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:18.6574 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:18.6574 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:18.6574 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6574 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:18.6574 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:18.6574 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:18.6574 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:18.6574 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:18.6574 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:18.6574 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:18.6731 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:18.6731 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Second - Waiting: 2 seconds to cross 
2023-04-14 16:15:20.6818 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:15:20.6818 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:20.6818 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6818 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6818 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:20.6818 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:20.6818 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:20.6818 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:20.6818 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:15:20.6818 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:15:20.6818 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:20.6818 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6818 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6818 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:20.6818 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:20.6818 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:20.6818 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6818 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:20.6818 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:15:20.6888 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:20.6888 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:20.6888 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:20.6888 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:20.6888 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:20.6888 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:20.6888 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:20.6888 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:20.6888 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:20.6888 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:20.6888 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6888 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6888 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:20.6888 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:20.6888 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:20.6888 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:20.6888 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:20.6888 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:20.6888 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:20.6888 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:20.6888 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:20.6888 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:20.6888 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:20.6888 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:20.6888 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:20.6888 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:20.6888 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6888 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:20.6888 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:20.6888 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:20.6888 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:20.6888 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:20.6888 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:20.6888 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:20.6888 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:20.6888 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:20.6888 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:20.6888 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:20.6888 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:20.6888 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Third - Waiting: 3 seconds to cross 
2023-04-14 16:15:23.7092 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:15:23.7092 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:23.7092 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7092 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7092 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:23.7092 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:23.7092 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:23.7092 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:23.7092 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:15:23.7092 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:15:23.7092 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:23.7092 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7092 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7092 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:23.7092 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:23.7092 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:23.7092 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:23.7092 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:15:23.7092 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:23.7092 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:23.7092 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:23.7092 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:23.7092 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7092 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:23.7092 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7092 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:23.7092 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:23.7092 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:23.7092 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:23.7092 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:23.7092 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7092 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7092 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:23.7092 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:23.7092 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7092 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:23.7092 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:23.7205 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:23.7205 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7205 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:23.7205 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:23.7205 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7205 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7205 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:23.7205 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:23.7205 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:23.7205 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7205 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7205 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:23.7205 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:23.7205 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:23.7205 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7205 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7205 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:23.7205 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7205 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:23.7205 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:23.7205 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:23.7205 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:23.7205 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7205 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:23.7205 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:23.7205 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:23.7205 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:23.7205 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:23.7205 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:23.7205 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:23.7205 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:23.7205 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:15:28.7274 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:28.7274 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:28.7274 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:28.7274 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:28.7274 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:15:28.7274 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:28.7274 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:28.7274 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:28.7274 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:28.7274 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:28.7274 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:28.7274 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:28.7274 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:28.7274 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7274 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:28.7274 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7274 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:28.7274 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:28.7274 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:28.7274 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:28.7274 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:28.7274 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:28.7274 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:28.7274 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:28.7274 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:28.7274 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:28.7274 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:28.7274 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:28.7274 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7274 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7274 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:28.7274 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:28.7274 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7274 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7274 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:28.7274 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:28.7274 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:28.7274 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7274 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:28.7274 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:28.7274 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:28.7353 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:28.7353 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:28.7353 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7353 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:28.7353 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:28.7353 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:28.7353 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:28.7353 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:28.7353 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:28.7353 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:28.7353 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:28.7353 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fifth - Waiting: 3 seconds to cross 
2023-04-14 16:15:31.7461 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:15:31.7961 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:31.7961 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7961 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7961 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:31.7961 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:31.7961 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:31.7961 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:31.7961 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:15:31.7961 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:15:31.7961 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:31.7961 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7961 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7961 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:31.7961 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:31.7961 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:31.7961 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7961 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:31.7961 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:15:31.7982 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:31.7982 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:31.7982 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:31.7982 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:31.7982 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:31.7982 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:31.7982 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:31.7982 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:31.7982 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:31.7982 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:31.7982 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7982 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7982 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:31.7982 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:31.7982 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:31.7982 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:31.7982 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:31.7982 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:31.7982 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:31.7982 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:31.7982 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:31.7982 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:31.7982 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:31.7982 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:31.7982 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:31.7982 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:31.7982 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7982 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:31.7982 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:31.7982 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:31.7982 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:31.7982 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:31.7982 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:31.7982 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:31.7982 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:31.7982 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:31.7982 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:31.7982 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:31.7982 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:31.7982 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Sixth - Waiting: 10 seconds to cross 
2023-04-14 16:15:41.8113 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update flight (3) in database... 
2023-04-14 16:15:41.8143 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Flight>()
    .FirstOrDefault(f => f.Id == __flight_Id_0)' 
2023-04-14 16:15:41.8143 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Flight>(
    asyncEnumerable: new SingleQueryingEnumerable<Flight>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Flight.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Flight.BrandName (string) Required, 1], [Property: Flight.IsDeparture (bool) Required, 2], [Property: Flight.Number (string) Required, 3], [Property: Flight.PassengersCount (int) Required, 4] }
            SELECT TOP(1) f.Id, f.BrandName, f.IsDeparture, f.Number, f.PassengersCount
            FROM Flights AS f
            WHERE f.Id == @__flight_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Flight>, 
        Server.DAL.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-04-14 16:15:41.8143 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:41.8143 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8143 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8143 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:15:41.8143 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:15:41.8143 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:15:41.8143 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:41.8143 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:41.8143 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:41.8143 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Flight.IsDeparture' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:41.8143 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8143 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:41.8143 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:41.8143 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8143 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8143 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:15:41.8143 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:15:41.8143 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:41.8143 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:41.8143 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8143 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:41.8143 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (3) updated in database! 
2023-04-14 16:15:41.8143 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:15:41.8143 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:41.8143 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8143 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8143 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8143 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:41.8466 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (22ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:41.8466 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:41.8466 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:41.8466 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:15:41.8466 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:15:41.8466 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:41.8466 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8466 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8466 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:41.8466 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:41.8466 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:41.8466 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:41.8466 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:15:41.8466 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:41.8466 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:41.8466 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:41.8466 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:41.8466 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8466 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:41.8466 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8466 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:41.8466 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:41.8466 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:41.8466 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:41.8466 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:41.8466 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8466 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8466 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:41.8466 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:41.8466 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:41.8466 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:41.8466 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:41.8466 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:41.8466 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:41.8466 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8466 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8466 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:41.8466 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:41.8466 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:41.8466 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8466 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8466 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:41.8466 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:41.8466 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:41.8466 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8466 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:41.8466 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8466 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:41.8466 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:41.8607 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:41.8607 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:41.8607 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8607 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:41.8607 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:41.8607 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:41.8607 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:41.8607 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:41.8607 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:41.8607 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:41.8607 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:41.8607 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: True - Is now in leg: Eighth - Waiting: 5 seconds to cross 
2023-04-14 16:15:46.8728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:15:46.8728 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:46.8728 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8728 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8728 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:46.8728 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:46.8728 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:46.8728 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:46.8728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:15:46.8728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:15:46.8728 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:46.8728 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8728 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8728 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:46.8728 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:46.8728 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:46.8728 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:46.8728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:15:46.8728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:46.8728 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:46.8728 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:46.8728 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:46.8728 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8728 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:46.8728 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8728 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:46.8728 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:15:46.8728 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8728 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:15:46.8764 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:15:46.8764 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:46.8764 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8764 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8764 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:46.8764 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:15:46.8764 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8764 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:46.8764 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:15:46.8764 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:15:46.8764 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8764 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:46.8764 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:15:46.8764 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8764 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8764 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:15:46.8764 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:46.8764 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:46.8764 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8764 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8764 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:46.8764 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:46.8764 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:46.8764 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8764 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8764 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:46.8764 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8764 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:46.8764 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:46.8764 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:46.8764 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:46.8764 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8764 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:46.8764 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:46.8764 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:46.8764 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:46.8764 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:46.8764 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:46.8764 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:46.8764 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:46.8764 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: True - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:15:51.8919 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:51.8919 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:51.8919 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:51.8919 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:51.8919 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:15:51.8919 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:51.8919 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:15:51.8919 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:51.8919 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:51.8919 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:51.8919 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:51.8919 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:51.8919 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:51.8919 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:51.8919 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:51.8919 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:15:51.8919 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:15:51.8919 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:51.8919 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:51.8919 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:51.8919 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:15:51.8919 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:51.8919 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:51.8919 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:15:51.8919 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:15:51.8919 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:15:51.8919 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:15:51.8919 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:51.8919 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:15:51.8919 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:51.8919 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:15:51.8919 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:15:51.8919 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:15:51.8919 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.8919 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:15:51.8919 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:15:51.8919 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:15:51.8919 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:15:51.8919 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:15:51.8919 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 64020b79 (id: 3) is now departing! 
2023-04-14 16:15:51.8919 | 103 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action method Server.Controllers.FlightsController.Post (WebAPI), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 34534.0925ms. 
2023-04-14 16:15:51.8919 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:15:51.8919 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:15:51.8919 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:15:51.8919 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:15:51.8919 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:15:51.8919 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:15:51.9072 | 5 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Before executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:15:51.9072 | 6 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | After executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:15:51.9072 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:15:51.9072 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:15:51.9072 | 105 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action Server.Controllers.FlightsController.Post (WebAPI) in 35550.022ms 
2023-04-14 16:15:51.9072 | 1 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executed endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:15:51.9072 | 9 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFK" completed keep alive response. 
2023-04-14 16:15:51.9072 | 10407 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | 'DataContext' disposed. 
2023-04-14 16:15:51.9072 | 20007 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:15:51.9072 | 20008 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposed connection to database '' on server '' (0ms). 
2023-04-14 16:15:51.9072 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 - 200 0 - 35621.1440ms 
2023-04-14 16:17:07.0699 | 36 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" is closing. 
2023-04-14 16:17:07.1094 | 48 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" is closed. The last processed stream ID was 1. 
2023-04-14 16:17:07.1094 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPST8UNLGFI" sending GOAWAY frame for stream ID 0 with length 8 and flags 0x0. 
2023-04-14 16:17:07.1102 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFI" received FIN. 
2023-04-14 16:17:07.1102 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFI" sending FIN because: "The client closed the connection." 
2023-04-14 16:17:07.1102 | 62 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Http2 | The connection queue processing loop for 0HMPST8UNLGFI completed. 
2023-04-14 16:17:07.1102 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFI" stopped. 
2023-04-14 16:18:03.4227 | 10 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFK" disconnecting. 
2023-04-14 16:18:03.4227 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFK" stopped. 
2023-04-14 16:18:03.4235 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFK" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:25:25.3836 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFL" accepted. 
2023-04-14 16:25:25.3836 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFL" received FIN. 
2023-04-14 16:25:25.3836 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFL" started. 
2023-04-14 16:25:25.3836 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFM" accepted. 
2023-04-14 16:25:25.3836 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFM" started. 
2023-04-14 16:25:25.3836 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:25:25.3836 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFL" stopped. 
2023-04-14 16:25:25.3836 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPST8UNLGFL" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:25:25.3836 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPST8UNLGFM established using the following protocol: Tls12 
2023-04-14 16:25:25.3836 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 
2023-04-14 16:25:25.3836 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:25:25.3836 | 1001 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | 1 candidate(s) found for the request path '/api/flights' 
2023-04-14 16:25:25.3836 | 1005 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | Endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' with route pattern 'api/Flights' is valid for the request path '/api/flights' 
2023-04-14 16:25:25.3836 | 1 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request matched endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:25:25.3836 | 0 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executing endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:25:25.3930 | 102 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Route matched with {action = "Post", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task Post(Server.DAL.Models.Flight) on controller Server.Controllers.FlightsController (WebAPI). 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of authorization filters (in the following order): None 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of resource filters (in the following order): None 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of exception filters (in the following order): None 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:25:25.3930 | 0 | DEBUG | Server.DAL.DataContext | NLog injected into DataContext 
2023-04-14 16:25:25.3930 | 0 | DEBUG | Server.DAL.Repositories.AirportRepository | NLog injected into AirportRepository 
2023-04-14 16:25:25.3930 | 0 | DEBUG | Server.Services.FlightsManagerService | NLog injected into FlightsManagerService 
2023-04-14 16:25:25.3930 | 0 | DEBUG | Server.Controllers.FlightsController | NLog injected into FlightsController 
2023-04-14 16:25:25.3930 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:25:25.3930 | 22 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:25:25.3930 | 44 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' using the name '' in request data ... 
2023-04-14 16:25:25.3930 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-04-14 16:25:25.3930 | 25 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPST8UNLGFM", Request id "0HMPST8UNLGFM:00000001": started reading request body. 
2023-04-14 16:25:25.3930 | 26 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPST8UNLGFM", Request id "0HMPST8UNLGFM:00000001": done reading request body. 
2023-04-14 16:25:25.3930 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter | JSON input formatter succeeded, deserializing to type 'Server.DAL.Models.Flight' 
2023-04-14 16:25:25.3930 | 45 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:25:25.3930 | 23 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:25:25.3930 | 26 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:25:25.3930 | 27 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:25:25.3930 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:25:25.3930 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:25:25.3930 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:25:25.3930 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:25:25.3930 | 101 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) - Validation state: Valid 
2023-04-14 16:25:25.3930 | 102 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) with arguments (Server.DAL.Models.Flight) 
2023-04-14 16:25:25.3930 | 0 | INFO | Server.Controllers.FlightsController | FlightsController - POST: Got new flight! - 18e7360a - Elimelech Airlines - 123 
2023-04-14 16:25:25.3930 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new flight (18e7360a-0ad9-4962-9d4e-2a5bc9c56647) to database... 
2023-04-14 16:25:25.4116 | 10403 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | Entity Framework Core 7.0.4 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.4' with options: MigrationsAssembly=WebAPI  
2023-04-14 16:25:25.4116 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Flight"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4116 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Flight' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4116 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:25.4116 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:25.4116 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:25.4116 | 20005 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Creating DbConnection. 
2023-04-14 16:25:25.4116 | 20006 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Created DbConnection. (0ms). 
2023-04-14 16:25:25.4116 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4116 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4116 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:25.4116 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4116 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4116 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:25:25.4116 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:25:25.4116 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Flight.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:25.4116 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4116 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:25.4116 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4116 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:25.4116 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4116 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:25.4116 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (18e7360a-0ad9-4962-9d4e-2a5bc9c56647) added! 
2023-04-14 16:25:25.4255 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Air - Waiting: 0 seconds to cross 
2023-04-14 16:25:25.4255 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:25:25.4255 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:25.4255 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4255 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4255 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4255 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4255 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:25.4255 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:25.4255 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4659 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 37ms reading results. 
2023-04-14 16:25:25.4659 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:25.4659 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:25:25.4659 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Air) in context... 
2023-04-14 16:25:25.4659 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:25.4659 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4659 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4659 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:25.4659 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:25.4659 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4659 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:25.4659 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:25.4659 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Air) updated in context! 
2023-04-14 16:25:25.4659 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:25.4659 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:25.4659 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:25.4659 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:25.4659 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4659 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:25.4659 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4659 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:25.4659 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4659 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4659 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:25:25.4719 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:25:25.4719 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4719 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:25.4719 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4719 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:25.4719 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4719 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:25.4719 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:25.4719 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:25.4719 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4719 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4719 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:25.4719 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:25.4719 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:25.4719 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4719 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4719 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:25.4719 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4719 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:25.4719 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:25.4719 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:25.4719 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:25.4719 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4719 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:25.4719 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:25.4719 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:25.4719 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:25.4719 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:25.4719 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:25.4719 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:25.4719 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:25.4719 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: First - Waiting: 1 seconds to cross 
2023-04-14 16:25:26.4841 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:25:26.5379 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:26.5379 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:26.5379 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:26.5379 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:26.5379 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:25:26.5379 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:26.5379 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:26.5379 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:26.5379 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:26.5379 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:26.5379 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:26.5379 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:26.5379 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:26.5379 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:26.5379 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:26.5379 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:26.5379 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:26.5379 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:26.5379 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:26.5379 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:26.5379 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:26.5379 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:26.5379 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:26.5379 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:26.5379 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:26.5379 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:26.5379 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:26.5379 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:26.5379 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:26.5379 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:26.5379 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:26.5379 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:26.5379 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:26.5379 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:26.5379 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:26.5379 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:26.5379 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:26.5379 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:26.5379 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:26.5379 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:26.5379 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:26.5379 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:26.5379 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Second - Waiting: 2 seconds to cross 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:25:28.5528 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:28.5528 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:28.5528 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:28.5528 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:28.5528 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:25:28.5528 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:28.5528 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:28.5528 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:28.5528 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:28.5528 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:28.5528 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:28.5528 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:28.5528 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:28.5528 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:28.5528 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:28.5528 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:28.5528 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:28.5528 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:28.5528 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:28.5528 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:28.5528 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:28.5528 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:28.5528 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:28.5528 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:28.5528 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:28.5528 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:28.5528 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:28.5528 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:28.5528 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:28.5528 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:28.5528 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:28.5528 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:28.5528 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:28.5528 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:28.5528 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:28.5528 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:28.5528 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:28.5528 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:28.5528 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:28.5528 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:28.5528 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:28.5528 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:28.5528 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Third - Waiting: 3 seconds to cross 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:25:31.5706 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:31.5706 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:31.5706 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:31.5706 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:31.5706 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:25:31.5706 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:31.5706 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:31.5706 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:31.5706 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:31.5706 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:31.5706 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:31.5706 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:31.5706 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:31.5706 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:31.5706 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:31.5706 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:31.5706 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:31.5706 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:31.5706 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:31.5706 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:31.5706 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:31.5706 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:31.5706 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:31.5706 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:31.5706 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:31.5706 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:31.5706 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:31.5706 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:31.5706 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:31.5706 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:31.5706 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:31.5706 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:31.5706 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:31.5706 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:31.5706 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:31.5706 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:31.5706 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:31.5706 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:31.5706 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:31.5706 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:31.5706 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:31.5706 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:31.5706 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:25:36.5774 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:25:36.5774 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:36.5774 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5774 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5774 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5774 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5774 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:36.5794 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:36.5794 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:36.5794 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:25:36.5794 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:36.5794 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5794 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5794 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:36.5794 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:36.5794 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:36.5794 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:36.5794 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:36.5794 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:36.5794 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:36.5794 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:36.5794 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:36.5794 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:36.5794 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:36.5794 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:36.5794 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:36.5794 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5794 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5794 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:36.5794 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:36.5794 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:36.5794 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:36.5794 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:36.5794 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:36.5794 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:36.5794 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:36.5794 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:36.5794 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:36.5794 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:36.5794 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:36.5794 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5794 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:36.5794 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:36.5794 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:36.5794 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:36.5794 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:36.5794 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:36.5794 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:36.5794 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:36.5794 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:36.5794 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:36.5794 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:36.5794 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fifth - Waiting: 3 seconds to cross 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:25:39.5870 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:39.5870 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:39.5870 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:39.5870 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:39.5870 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:25:39.5870 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:39.5870 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:39.5870 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:39.5870 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:39.5870 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:39.5870 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:39.5870 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:39.5870 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:39.5870 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:39.5870 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:39.5870 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:39.5870 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:39.5870 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:39.5870 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:39.5870 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:39.5870 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:39.5870 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:39.5870 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:39.5870 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:39.5870 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:39.5870 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:39.5870 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:39.5870 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:39.5870 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:39.5870 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:39.5870 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:39.5870 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:39.5870 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:39.5870 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:39.5870 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:39.5870 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:39.5870 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:39.5870 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:39.5870 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:39.5870 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:39.5870 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:39.5870 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:39.5870 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Sixth - Waiting: 10 seconds to cross 
2023-04-14 16:25:49.6080 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update flight (4) in database... 
2023-04-14 16:25:49.6080 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:49.6080 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6080 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6080 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6080 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6080 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:25:49.6109 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:25:49.6109 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:49.6109 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:49.6109 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:49.6109 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:49.6109 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Flight.IsDeparture' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Flight.PassengersCount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:49.6109 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:49.6109 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:49.6109 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0, [PassengersCount] = @p1
OUTPUT 1
WHERE [Id] = @p2; 
2023-04-14 16:25:49.6109 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0, [PassengersCount] = @p1
OUTPUT 1
WHERE [Id] = @p2; 
2023-04-14 16:25:49.6109 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:49.6109 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (4) updated in database! 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:25:49.6109 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:49.6109 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:49.6109 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:49.6109 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:49.6109 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:25:49.6109 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:49.6109 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:49.6109 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:49.6109 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:49.6109 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:49.6109 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:49.6109 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:49.6109 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:49.6109 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:49.6109 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:49.6109 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:49.6109 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:49.6109 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:49.6109 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:49.6109 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:49.6109 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:49.6109 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:49.6109 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:49.6109 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:49.6109 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:49.6109 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:49.6109 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:49.6109 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:49.6109 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:49.6109 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:49.6109 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:49.6109 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:49.6109 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:49.6109 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:49.6109 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:49.6109 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:49.6109 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:49.6109 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:49.6109 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:49.6109 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 127 - Is-Departing: True - Is now in leg: Eighth - Waiting: 5 seconds to cross 
2023-04-14 16:25:54.6264 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:25:54.6692 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:54.6692 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6692 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6692 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:54.6692 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:54.6692 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:54.6692 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:54.6692 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:25:54.6692 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:25:54.6692 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:54.6692 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6692 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6692 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:54.6692 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:54.6692 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:54.6692 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:54.6692 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:25:54.6692 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:54.6692 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:54.6692 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:54.6692 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:54.6692 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6692 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:54.6692 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6692 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:54.6692 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:25:54.6692 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:25:54.6692 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:25:54.6692 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:54.6692 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6692 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6692 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:54.6692 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:25:54.6692 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:54.6692 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:25:54.6692 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:25:54.6692 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6692 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:54.6692 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:25:54.6692 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6728 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6728 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:25:54.6728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:54.6728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:54.6728 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6728 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6728 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:54.6728 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:54.6728 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:54.6728 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6728 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6728 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:54.6728 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6728 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:54.6728 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:54.6728 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:54.6728 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:54.6728 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6728 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:54.6728 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:54.6728 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:54.6728 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:54.6728 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:54.6728 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:54.6728 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:54.6728 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:54.6728 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) - Flight brand: Elimelech Airlines - Passengers count: 127 - Is-Departing: True - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:25:59.6803 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:59.6803 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:59.6803 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:59.6803 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:59.6803 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:25:59.6803 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:59.6803 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:25:59.6803 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:59.6803 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:59.6803 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:59.6803 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:59.6803 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:59.6803 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:59.6803 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:59.6803 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:59.6803 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:25:59.6803 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:25:59.6803 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:59.6803 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:59.6803 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:59.6803 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:25:59.6803 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:59.6803 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:59.6803 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:25:59.6803 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:25:59.6803 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:25:59.6803 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:25:59.6803 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:59.6803 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:25:59.6803 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:59.6803 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([FlightNum], [In], [LegNum], [NextLegNum], [Out])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2023-04-14 16:25:59.6803 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:25:59.6803 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:25:59.6803 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6803 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:25:59.6803 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:25:59.6803 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:25:59.6803 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:25:59.6803 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:25:59.6803 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: 18e7360a (id: 4) is now departing! 
2023-04-14 16:25:59.6803 | 103 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action method Server.Controllers.FlightsController.Post (WebAPI), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 34287.9547ms. 
2023-04-14 16:25:59.6803 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:25:59.6803 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:25:59.6803 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:25:59.6803 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:25:59.6803 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:25:59.6803 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:25:59.6803 | 5 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Before executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:25:59.6885 | 6 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | After executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:25:59.6885 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:25:59.6885 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:25:59.6885 | 105 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action Server.Controllers.FlightsController.Post (WebAPI) in 34295.3162ms 
2023-04-14 16:25:59.6885 | 1 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executed endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:25:59.6885 | 9 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPST8UNLGFM" completed keep alive response. 
2023-04-14 16:25:59.6885 | 10407 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | 'DataContext' disposed. 
2023-04-14 16:25:59.6885 | 20007 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:25:59.6885 | 20008 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposed connection to database '' on server '' (0ms). 
2023-04-14 16:25:59.6885 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 - 200 0 - 34303.0239ms 
2023-04-14 16:34:23.9852 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:34:24.2146 | 0 | ERROR | Program | Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\מכללת סלע\פרוייקט סיום\FinalProject\Server\Program.cs:line 59
2023-04-14 16:34:41.9343 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:34:42.0667 | 0 | ERROR | Program | Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\מכללת סלע\פרוייקט סיום\FinalProject\Server\Program.cs:line 59
2023-04-14 16:34:44.3270 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:34:44.4279 | 0 | ERROR | Program | Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\מכללת סלע\פרוייקט סיום\FinalProject\Server\Program.cs:line 59
2023-04-14 16:35:00.2696 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:35:00.3924 | 0 | ERROR | Program | Stopped program because of exception Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in D:\מכללת סלע\פרוייקט סיום\FinalProject\Server\Program.cs:line 59
2023-04-14 16:35:58.4327 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:35:58.6104 | 12 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory | Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-04-14 16:35:58.6487 | 1 | DEBUG | Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver | Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2023-04-14 16:35:58.6583 | 1 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting starting 
2023-04-14 16:35:58.7342 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: https://localhost:7014 
2023-04-14 16:35:58.7379 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: http://localhost:5169 
2023-04-14 16:35:58.7379 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly WebAPI 
2023-04-14 16:35:58.7379 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2023-04-14 16:35:58.7379 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2023-04-14 16:35:58.7379 | 0 | INFO | Microsoft.Hosting.Lifetime | Application started. Press Ctrl+C to shut down. 
2023-04-14 16:35:58.7379 | 0 | INFO | Microsoft.Hosting.Lifetime | Hosting environment: Development 
2023-04-14 16:35:58.7379 | 0 | INFO | Microsoft.Hosting.Lifetime | Content root path: D:\מכללת סלע\פרוייקט סיום\FinalProject\Server 
2023-04-14 16:35:58.7379 | 9 | TRACE | Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager | Starting connection heartbeat. 
2023-04-14 16:35:58.7379 | 2 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting started 
2023-04-14 16:35:58.7633 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTKN7H9QH" received FIN. 
2023-04-14 16:35:58.7633 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTKN7H9QI" received FIN. 
2023-04-14 16:35:58.7633 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QI" accepted. 
2023-04-14 16:35:58.7665 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QH" accepted. 
2023-04-14 16:35:58.7665 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QH" started. 
2023-04-14 16:35:58.7665 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QI" started. 
2023-04-14 16:35:58.7665 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:35:58.7665 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:35:58.7873 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QH" stopped. 
2023-04-14 16:35:58.7873 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QI" stopped. 
2023-04-14 16:35:58.7873 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTKN7H9QI" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:35:58.7873 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTKN7H9QH" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:35:58.9005 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QJ" accepted. 
2023-04-14 16:35:58.9005 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTKN7H9QJ" started. 
2023-04-14 16:35:58.9401 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPSTKN7H9QJ established using the following protocol: Tls12 
2023-04-14 16:35:58.9620 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-04-14 16:35:58.9620 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:35:58.9620 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" received SETTINGS frame for stream ID 0 with length 30 and flags NONE. 
2023-04-14 16:35:58.9620 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:35:58.9620 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:35:58.9620 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" received HEADERS frame for stream ID 1 with length 464 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-04-14 16:35:58.9820 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:35:58.9900 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/2 GET https://localhost:7014/weatherforecast - - 
2023-04-14 16:35:59.0078 | 0 | DEBUG | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | Wildcard detected, all requests with hosts will be allowed. 
2023-04-14 16:35:59.0078 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:35:59.0268 | 1000 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | No candidates found for the request path '/weatherforecast' 
2023-04-14 16:35:59.0268 | 2 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request did not match any endpoints 
2023-04-14 16:35:59.0358 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/2 GET https://localhost:7014/weatherforecast - - - 404 0 - 47.7066ms 
2023-04-14 16:35:59.0358 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTKN7H9QJ" sending HEADERS frame for stream ID 1 with length 45 and flags END_STREAM, END_HEADERS. 
2023-04-14 16:36:47.7801 | 0 | DEBUG | Program | [NLogger]: init main 
2023-04-14 16:36:47.9622 | 12 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory | Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider 
2023-04-14 16:36:48.0013 | 1 | DEBUG | Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver | Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. 
2023-04-14 16:36:48.0013 | 1 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting starting 
2023-04-14 16:36:48.0883 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: https://localhost:7014 
2023-04-14 16:36:48.0883 | 14 | INFO | Microsoft.Hosting.Lifetime | Now listening on: http://localhost:5169 
2023-04-14 16:36:48.0883 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly WebAPI 
2023-04-14 16:36:48.0883 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh 
2023-04-14 16:36:48.0883 | 13 | DEBUG | Microsoft.AspNetCore.Hosting.Diagnostics | Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net 
2023-04-14 16:36:48.0883 | 0 | INFO | Microsoft.Hosting.Lifetime | Application started. Press Ctrl+C to shut down. 
2023-04-14 16:36:48.0883 | 0 | INFO | Microsoft.Hosting.Lifetime | Hosting environment: Development 
2023-04-14 16:36:48.0883 | 0 | INFO | Microsoft.Hosting.Lifetime | Content root path: D:\מכללת סלע\פרוייקט סיום\FinalProject\Server 
2023-04-14 16:36:48.0950 | 9 | TRACE | Microsoft.AspNetCore.Http.Connections.Internal.HttpConnectionManager | Starting connection heartbeat. 
2023-04-14 16:36:48.0950 | 2 | DEBUG | Microsoft.Extensions.Hosting.Internal.Host | Hosting started 
2023-04-14 16:36:48.4875 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTL61NTAU" received FIN. 
2023-04-14 16:36:48.4875 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTAU" accepted. 
2023-04-14 16:36:48.4875 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTAU" started. 
2023-04-14 16:36:48.5023 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:36:48.5023 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTAU" stopped. 
2023-04-14 16:36:48.5169 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTL61NTAU" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:36:48.5742 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTAV" accepted. 
2023-04-14 16:36:48.5742 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTAV" started. 
2023-04-14 16:36:48.6137 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPSTL61NTAV established using the following protocol: Tls12 
2023-04-14 16:36:48.6354 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE. 
2023-04-14 16:36:48.6354 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:36:48.6354 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" received SETTINGS frame for stream ID 0 with length 30 and flags NONE. 
2023-04-14 16:36:48.6354 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:36:48.6354 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0. 
2023-04-14 16:36:48.6354 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" received HEADERS frame for stream ID 1 with length 464 and flags END_STREAM, END_HEADERS, PRIORITY. 
2023-04-14 16:36:48.6535 | 37 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" received SETTINGS frame for stream ID 0 with length 0 and flags ACK. 
2023-04-14 16:36:48.6622 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/2 GET https://localhost:7014/weatherforecast - - 
2023-04-14 16:36:48.6777 | 0 | DEBUG | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | Wildcard detected, all requests with hosts will be allowed. 
2023-04-14 16:36:48.6777 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:36:48.6975 | 1000 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | No candidates found for the request path '/weatherforecast' 
2023-04-14 16:36:48.6975 | 2 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request did not match any endpoints 
2023-04-14 16:36:48.7072 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/2 GET https://localhost:7014/weatherforecast - - - 404 0 - 46.7776ms 
2023-04-14 16:36:48.7072 | 49 | TRACE | Microsoft.AspNetCore.Server.Kestrel.Http2 | Connection id "0HMPSTL61NTAV" sending HEADERS frame for stream ID 1 with length 45 and flags END_STREAM, END_HEADERS. 
2023-04-14 16:36:55.1867 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTB0" accepted. 
2023-04-14 16:36:55.1867 | 6 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTL61NTB0" received FIN. 
2023-04-14 16:36:55.2176 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTB0" started. 
2023-04-14 16:36:55.2176 | 39 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTB1" accepted. 
2023-04-14 16:36:55.2176 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTB1" started. 
2023-04-14 16:36:55.2176 | 1 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Failed to authenticate HTTPS connection. System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-04-14 16:36:55.2176 | 2 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTB0" stopped. 
2023-04-14 16:36:55.2176 | 7 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets | Connection id "0HMPSTL61NTB0" sending FIN because: "The Socket transport's send loop completed gracefully." 
2023-04-14 16:36:55.2224 | 3 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware | Connection 0HMPSTL61NTB1 established using the following protocol: Tls12 
2023-04-14 16:36:55.2224 | 1 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request starting HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 
2023-04-14 16:36:55.2224 | 2 | TRACE | Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware | All hosts are allowed. 
2023-04-14 16:36:55.2224 | 1001 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | 1 candidate(s) found for the request path '/api/flights' 
2023-04-14 16:36:55.2361 | 1005 | DEBUG | Microsoft.AspNetCore.Routing.Matching.DfaMatcher | Endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' with route pattern 'api/Flights' is valid for the request path '/api/flights' 
2023-04-14 16:36:55.2361 | 1 | DEBUG | Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware | Request matched endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:36:55.2361 | 0 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executing endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:36:55.2649 | 102 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Route matched with {action = "Post", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task Post(Server.DAL.Models.Flight) on controller Server.Controllers.FlightsController (WebAPI). 
2023-04-14 16:36:55.2663 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of authorization filters (in the following order): None 
2023-04-14 16:36:55.2663 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of resource filters (in the following order): None 
2023-04-14 16:36:55.2663 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000) 
2023-04-14 16:36:55.2663 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of exception filters (in the following order): None 
2023-04-14 16:36:55.2663 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000) 
2023-04-14 16:36:55.2663 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:36:55.3581 | 10401 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | An 'IServiceProvider' was created for internal use by Entity Framework. 
2023-04-14 16:36:55.3747 | 0 | DEBUG | Server.DAL.DataContext | NLog injected into DataContext 
2023-04-14 16:36:55.3770 | 0 | DEBUG | Server.DAL.Repositories.AirportRepository | NLog injected into AirportRepository 
2023-04-14 16:36:55.3770 | 0 | DEBUG | WebAPI.Services.FlightsLogsHubContext | NLog injected into FlightsLogsHubContext 
2023-04-14 16:36:55.3770 | 0 | DEBUG | Server.Services.FlightsManagerService | NLog injected into FlightsManagerService 
2023-04-14 16:36:55.3770 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Loading legs... 
2023-04-14 16:36:55.3770 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to get legs list from database... 
2023-04-14 16:36:55.5701 | 0 | INFO | Server.DAL.DataContext | DataContext: Validating and creating data in database... 
2023-04-14 16:36:55.5701 | 0 | INFO | Server.DAL.DataContext | DataContext: validated data! 
2023-04-14 16:36:55.7771 | 10403 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | Entity Framework Core 7.0.4 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.4' with options: MigrationsAssembly=WebAPI  
2023-04-14 16:36:55.8123 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Leg>()' 
2023-04-14 16:36:55.9196 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Leg>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Leg.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Leg.ChangePlaneStatus (bool) Required, 1], [Property: Leg.CrossingTime (int) Required, 2], [Property: Leg.IsDepartureLeg (bool) Required, 3], [Property: Leg.IsOccupied (bool) Required, 4], [Property: Leg.IsStartingLeg (bool) Required, 5], [Property: Leg.NextLegs (Legs) Required, 6], [Property: Leg.Number (Legs) Required, 7], [Property: Leg.RepresentationalNumber (int) Required, 8] }
        SELECT l.Id, l.ChangePlaneStatus, l.CrossingTime, l.IsDepartureLeg, l.IsOccupied, l.IsStartingLeg, l.NextLegs, l.Number, l.RepresentationalNumber
        FROM Legs AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Leg>, 
    Server.DAL.DataContext, 
    False, 
    False, 
    True
)' 
2023-04-14 16:36:55.9419 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:55.9419 | 20005 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Creating DbConnection. 
2023-04-14 16:36:55.9586 | 20006 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Created DbConnection. (12ms). 
2023-04-14 16:36:55.9586 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (20ms). 
2023-04-14 16:36:55.9586 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (24ms). 
2023-04-14 16:36:55.9586 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.0997 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.0997 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l] 
2023-04-14 16:36:56.1337 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l] 
2023-04-14 16:36:56.1508 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1727 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1727 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Leg' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.1731 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.1731 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 46ms reading results. 
2023-04-14 16:36:56.1731 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.1911 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (3ms). 
2023-04-14 16:36:56.1911 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs list found and returned! 
2023-04-14 16:36:56.1911 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Legs Loaded! 
2023-04-14 16:36:56.1911 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Clearing legs... 
2023-04-14 16:36:56.1911 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Legs cleared! 
2023-04-14 16:36:56.1911 | 0 | DEBUG | Server.Controllers.FlightsController | NLog injected into FlightsController 
2023-04-14 16:36:56.1911 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed controller factory for controller Server.Controllers.FlightsController (WebAPI) 
2023-04-14 16:36:56.1911 | 22 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:36:56.1911 | 44 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight' using the name '' in request data ... 
2023-04-14 16:36:56.1911 | 1 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'. 
2023-04-14 16:36:56.2268 | 25 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPSTL61NTB1", Request id "0HMPSTL61NTB1:00000001": started reading request body. 
2023-04-14 16:36:56.2268 | 26 | DEBUG | Microsoft.AspNetCore.Server.Kestrel | Connection id "0HMPSTL61NTB1", Request id "0HMPSTL61NTB1:00000001": done reading request body. 
2023-04-14 16:36:56.2268 | 2 | DEBUG | Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter | JSON input formatter succeeded, deserializing to type 'Server.DAL.Models.Flight' 
2023-04-14 16:36:56.2268 | 45 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:36:56.2268 | 23 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to bind parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:36:56.2268 | 26 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight' ... 
2023-04-14 16:36:56.2377 | 27 | DEBUG | Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder | Done attempting to validate the bound parameter 'flight' of type 'Server.DAL.Models.Flight'. 
2023-04-14 16:36:56.2377 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:36:56.2377 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:36:56.2377 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:36:56.2377 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:36:56.2377 | 101 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) - Validation state: Valid 
2023-04-14 16:36:56.2377 | 102 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executing action method Server.Controllers.FlightsController.Post (WebAPI) with arguments (Server.DAL.Models.Flight) 
2023-04-14 16:36:56.2377 | 0 | INFO | Server.Controllers.FlightsController | FlightsController - POST: Got new flight! - b46ee645 - Elimelech Airlines - 123 
2023-04-14 16:36:56.2377 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new flight (b46ee645-35d6-4154-8cf0-5e6401118483) to database... 
2023-04-14 16:36:56.2585 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Flight"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.2774 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Flight' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.2774 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:56.2774 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:56.2954 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:56.3357 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.3357 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.3357 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:56.3357 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.3357 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (2ms). 
2023-04-14 16:36:56.3357 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:36:56.4158 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Flights] ([BrandName], [IsDeparture], [Number], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3); 
2023-04-14 16:36:56.4236 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Flight.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:56.4236 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.4236 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 11ms reading results. 
2023-04-14 16:36:56.4236 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.4236 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:56.4236 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.4236 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:36:56.4236 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (b46ee645-35d6-4154-8cf0-5e6401118483) added! 
2023-04-14 16:36:56.4947 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Air - Waiting: 0 seconds to cross 
2023-04-14 16:36:56.4947 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:36:56.5059 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Leg>()
    .FirstOrDefault(l => l.Id == __leg_Id_0)' 
2023-04-14 16:36:56.5513 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Leg>(
    asyncEnumerable: new SingleQueryingEnumerable<Leg>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Leg.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Leg.ChangePlaneStatus (bool) Required, 1], [Property: Leg.CrossingTime (int) Required, 2], [Property: Leg.IsDepartureLeg (bool) Required, 3], [Property: Leg.IsOccupied (bool) Required, 4], [Property: Leg.IsStartingLeg (bool) Required, 5], [Property: Leg.NextLegs (Legs) Required, 6], [Property: Leg.Number (Legs) Required, 7], [Property: Leg.RepresentationalNumber (int) Required, 8] }
            SELECT TOP(1) l.Id, l.ChangePlaneStatus, l.CrossingTime, l.IsDepartureLeg, l.IsOccupied, l.IsStartingLeg, l.NextLegs, l.Number, l.RepresentationalNumber
            FROM Legs AS l
            WHERE l.Id == @__leg_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Leg>, 
        Server.DAL.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-04-14 16:36:56.5513 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:56.5513 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5513 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5513 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5513 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5513 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:56.5513 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:56.5513 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5513 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:56.5513 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5513 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:56.5513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:36:56.5513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Air) in context... 
2023-04-14 16:36:56.5513 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:56.5513 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5513 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5513 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5513 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5513 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:56.5633 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:56.5633 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5633 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:56.5633 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5633 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:56.5633 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Air) updated in context! 
2023-04-14 16:36:56.5633 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:36:56.5633 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:56.5633 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:56.5633 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:56.5633 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.5633 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:56.5633 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5633 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5633 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:56.5633 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5633 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5633 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:36:56.5633 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:36:56.5633 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5633 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:56.5633 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5633 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:56.5633 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.5633 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:36:56.5633 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:36:56.5633 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:36:56.5633 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.5876 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.5876 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:56.5876 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:56.5876 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:56.5876 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5876 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5876 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:56.5876 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5876 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:56.5876 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:36:56.5876 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:36:56.5876 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:56.5876 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5876 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:36:56.5876 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:56.5876 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:56.5876 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:56.5876 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:36:56.5876 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:36:56.5954 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:36:56.5954 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:36:56.5954 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: First - Waiting: 1 seconds to cross 
2023-04-14 16:36:57.6141 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:36:57.6141 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:57.6141 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6141 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6141 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:57.6141 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:57.6141 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:57.6141 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:57.6141 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:36:57.6141 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (First) in context... 
2023-04-14 16:36:57.6141 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:57.6141 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6141 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6141 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:57.6141 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:57.6141 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:57.6141 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:57.6141 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (First) updated in context! 
2023-04-14 16:36:57.6141 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:36:57.6141 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:57.6141 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:57.6141 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:57.6141 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6141 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:57.6141 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6141 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:57.6141 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:36:57.6141 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6141 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:36:57.6290 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:36:57.6290 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:57.6290 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6290 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6290 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:36:57.6290 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:36:57.6290 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6290 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:57.6290 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:36:57.6290 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:36:57.6290 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6290 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:57.6290 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:36:57.6290 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6290 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6290 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:36:57.6290 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:36:57.6290 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:36:57.6290 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6290 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6290 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:57.6290 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:57.6290 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:57.6290 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6417 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6417 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:57.6417 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6417 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:57.6417 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:36:57.6417 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:36:57.6417 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:57.6417 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6417 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:57.6417 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:57.6417 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:57.6417 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:57.6417 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:36:57.6417 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:36:57.6417 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:36:57.6417 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:36:57.6417 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Second - Waiting: 2 seconds to cross 
2023-04-14 16:36:59.6513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:36:59.6513 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:59.6513 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6513 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6513 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:59.6513 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:59.6513 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:59.6513 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:59.6513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:36:59.6513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Second) in context... 
2023-04-14 16:36:59.6513 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:59.6513 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6513 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6513 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:59.6513 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:36:59.6513 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:59.6513 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6513 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:59.6513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Second) updated in context! 
2023-04-14 16:36:59.6513 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:36:59.6513 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:59.6513 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:59.6513 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:59.6513 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6513 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:59.6513 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6513 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:59.6513 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:36:59.6513 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:36:59.6567 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:36:59.6567 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:59.6567 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6567 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6567 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:36:59.6567 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:36:59.6567 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:59.6567 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:36:59.6567 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:36:59.6567 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:59.6567 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:36:59.6567 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6567 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6567 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:36:59.6567 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:36:59.6567 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:36:59.6567 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6567 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6567 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:36:59.6567 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:36:59.6567 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:36:59.6567 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:36:59.6567 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6567 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:36:59.6567 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:36:59.6567 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:36:59.6567 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:36:59.6567 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:36:59.6567 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:36:59.6567 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:36:59.6567 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:36:59.6567 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:36:59.6567 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:36:59.6567 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:36:59.6567 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:36:59.6567 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Third - Waiting: 3 seconds to cross 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:37:02.6635 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:02.6635 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:02.6635 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:02.6635 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:02.6635 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Third) in context... 
2023-04-14 16:37:02.6635 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:02.6635 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:02.6635 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:02.6635 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:02.6635 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Third) updated in context! 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:37:02.6635 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:02.6635 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:02.6635 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:02.6635 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6635 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:02.6635 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6635 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:02.6635 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:37:02.6635 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:37:02.6635 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:37:02.6635 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:02.6635 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:02.6635 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:02.6635 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:02.6635 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:37:02.6635 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:37:02.6635 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:02.6635 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:37:02.6635 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6635 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6635 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:37:02.6635 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:37:02.6635 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6635 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6635 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:02.6635 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:02.6635 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:02.6635 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6635 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:02.6635 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:02.6635 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:02.6726 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:02.6726 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:02.6726 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6726 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:02.6726 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:02.6726 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:02.6726 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:02.6726 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:02.6726 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:37:02.6726 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:37:02.6726 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:37:02.6726 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:37:07.6838 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:37:07.7064 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:07.7064 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:07.7064 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:07.7064 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:07.7064 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:37:07.7064 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:07.7064 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:07.7064 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:07.7064 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:07.7064 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:37:07.7064 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:07.7064 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:07.7064 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:07.7064 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:07.7064 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:07.7064 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:37:07.7064 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:37:07.7064 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:37:07.7064 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:07.7064 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:07.7064 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:07.7064 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:07.7064 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:37:07.7064 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:37:07.7064 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:07.7064 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:37:07.7064 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:37:07.7064 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:07.7064 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:07.7064 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:07.7064 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:07.7064 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:07.7064 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:07.7064 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:07.7064 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:07.7064 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:07.7064 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:07.7064 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:07.7064 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:07.7064 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:37:07.7064 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:37:07.7064 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:37:07.7064 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Fifth - Waiting: 3 seconds to cross 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:37:10.7259 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:10.7259 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:10.7259 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:10.7259 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:10.7259 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fifth) in context... 
2023-04-14 16:37:10.7259 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:10.7259 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:10.7259 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:10.7259 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:10.7259 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fifth) updated in context! 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:37:10.7259 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:10.7259 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:10.7259 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:10.7259 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:10.7259 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:10.7259 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:37:10.7259 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:37:10.7259 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:37:10.7259 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:10.7259 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:10.7259 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:10.7259 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:10.7259 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:37:10.7259 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:37:10.7259 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:10.7259 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:37:10.7259 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:37:10.7259 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:10.7259 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:10.7259 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:10.7259 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:10.7259 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:10.7259 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:10.7259 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:10.7259 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:10.7259 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:10.7259 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:10.7259 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:10.7259 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:10.7259 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:37:10.7259 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:37:10.7259 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:37:10.7259 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 123 - Is-Departing: False - Is now in leg: Sixth - Waiting: 10 seconds to cross 
2023-04-14 16:37:20.7503 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update flight (1) in database... 
2023-04-14 16:37:20.7740 | 10111 | DEBUG | Microsoft.EntityFrameworkCore.Query | Compiling query expression: 
'DbSet<Flight>()
    .FirstOrDefault(f => f.Id == __flight_Id_0)' 
2023-04-14 16:37:20.7861 | 10107 | DEBUG | Microsoft.EntityFrameworkCore.Query | Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Flight>(
    asyncEnumerable: new SingleQueryingEnumerable<Flight>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Flight.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Flight.BrandName (string) Required, 1], [Property: Flight.IsDeparture (bool) Required, 2], [Property: Flight.Number (string) Required, 3], [Property: Flight.PassengersCount (int) Required, 4] }
            SELECT TOP(1) f.Id, f.BrandName, f.IsDeparture, f.Number, f.PassengersCount
            FROM Flights AS f
            WHERE f.Id == @__flight_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Flight>, 
        Server.DAL.DataContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)' 
2023-04-14 16:37:20.7861 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:20.7861 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7861 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7861 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:37:20.7861 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (3ms) [Parameters=[@__flight_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[BrandName], [f].[IsDeparture], [f].[Number], [f].[PassengersCount]
FROM [Flights] AS [f]
WHERE [f].[Id] = @__flight_Id_0 
2023-04-14 16:37:20.7861 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 1ms reading results. 
2023-04-14 16:37:20.7861 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:20.7861 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:20.7861 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:20.7861 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Flight.IsDeparture' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:20.7861 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7861 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Flight.PassengersCount' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:20.7861 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:20.7861 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:20.7861 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7861 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7861 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0, [PassengersCount] = @p1
OUTPUT 1
WHERE [Id] = @p2; 
2023-04-14 16:37:20.7861 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Flights] SET [IsDeparture] = @p0, [PassengersCount] = @p1
OUTPUT 1
WHERE [Id] = @p2; 
2023-04-14 16:37:20.7861 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:20.7861 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:20.7861 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Flight' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7861 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:20.7861 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Flight (1) updated in database! 
2023-04-14 16:37:20.7861 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:37:20.7861 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:20.7861 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7861 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7861 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:20.7861 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:20.7861 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:20.7861 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7861 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:20.7861 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Sixth) in context... 
2023-04-14 16:37:20.7975 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:20.7975 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7975 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7975 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:20.7975 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:20.7975 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:20.7975 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Sixth) updated in context! 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:37:20.7975 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:20.7975 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:20.7975 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:20.7975 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:20.7975 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:20.7975 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:37:20.7975 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:37:20.7975 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:37:20.7975 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:20.7975 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7975 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7975 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:20.7975 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:20.7975 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:20.7975 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:37:20.7975 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:37:20.7975 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:20.7975 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:37:20.7975 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:37:20.7975 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:20.7975 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:20.7975 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:20.7975 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:20.7975 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7975 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:20.7975 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:20.7975 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:20.7975 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:20.7975 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:20.7975 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:20.7975 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:20.7975 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:20.7975 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:37:20.7975 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:37:20.7975 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:37:20.7975 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 131 - Is-Departing: True - Is now in leg: Eighth - Waiting: 5 seconds to cross 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:37:25.8047 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:25.8047 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:25.8047 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:25.8047 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:25.8047 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Eighth) in context... 
2023-04-14 16:37:25.8047 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:25.8047 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:25.8047 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:25.8047 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:25.8047 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Eighth) updated in context! 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:37:25.8047 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:25.8047 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:25.8047 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:25.8047 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:25.8047 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:25.8047 | 20700 | DEBUG | Microsoft.EntityFrameworkCore.Update | Executing 2 update commands as a batch. 
2023-04-14 16:37:25.8047 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20209 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Beginning transaction with isolation level 'Unspecified'. 
2023-04-14 16:37:25.8047 | 20200 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Began transaction with isolation level 'ReadCommitted'. 
2023-04-14 16:37:25.8047 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:25.8047 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:25.8047 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Legs] SET [IsOccupied] = @p2
OUTPUT 1
WHERE [Id] = @p3; 
2023-04-14 16:37:25.8047 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:25.8047 | 20210 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committing transaction. 
2023-04-14 16:37:25.8047 | 20202 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Committed transaction. 
2023-04-14 16:37:25.8047 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:25.8047 | 20204 | DEBUG | Microsoft.EntityFrameworkCore.Database.Transaction | Disposing transaction. 
2023-04-14 16:37:25.8047 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 2 entities written to the database. 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:37:25.8047 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:25.8047 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:25.8047 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:25.8047 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:25.8047 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:25.8047 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:25.8047 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:25.8047 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:25.8047 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:25.8047 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:25.8047 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:25.8047 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:25.8047 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:37:25.8047 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:37:25.8047 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:37:25.8047 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) - Flight brand: Elimelech Airlines - Passengers count: 131 - Is-Departing: True - Is now in leg: Fourth - Waiting: 5 seconds to cross 
2023-04-14 16:37:30.8169 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update leg (Fourth) in context... 
2023-04-14 16:37:30.8683 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:30.8683 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:30.8683 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:30.8683 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:30.8683 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (0ms) [Parameters=[@__leg_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[ChangePlaneStatus], [l].[CrossingTime], [l].[IsDepartureLeg], [l].[IsOccupied], [l].[IsStartingLeg], [l].[NextLegs], [l].[Number], [l].[RepresentationalNumber]
FROM [Legs] AS [l]
WHERE [l].[Id] = @__leg_Id_0 
2023-04-14 16:37:30.8683 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:30.8683 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:30.8683 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Leg (Fourth) updated in context! 
2023-04-14 16:37:30.8683 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to update legs in database... 
2023-04-14 16:37:30.8683 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:30.8683 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:30.8683 | 10802 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The unchanged property 'Leg.IsOccupied' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:30.8683 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:30.8683 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:30.8683 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:30.8683 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:30.8683 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:30.8683 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:37:30.8683 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Legs] SET [IsOccupied] = @p0
OUTPUT 1
WHERE [Id] = @p1; 
2023-04-14 16:37:30.8683 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:30.8683 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:30.8683 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Leg' tracked by 'DataContext' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:30.8683 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:30.8683 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Legs updated in database! 
2023-04-14 16:37:30.8683 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Trying to add new log to database... 
2023-04-14 16:37:30.8683 | 10808 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | '"DataContext"' generated a temporary value for the property '"Id"."Log"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:30.8683 | 10806 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | Context 'DataContext' started tracking 'Log' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:30.8683 | 10004 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges starting for 'DataContext'. 
2023-04-14 16:37:30.8683 | 10800 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges starting for 'DataContext'. 
2023-04-14 16:37:30.8683 | 10801 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | DetectChanges completed for 'DataContext'. 
2023-04-14 16:37:30.8683 | 20000 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opening connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20001 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Opened connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20103 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Creating DbCommand for 'ExecuteReader'. 
2023-04-14 16:37:30.8683 | 20104 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Created DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:30.8683 | 20106 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Initialized DbCommand for 'ExecuteReader' (0ms). 
2023-04-14 16:37:30.8683 | 20100 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:30.8683 | 20101 | INFO | Microsoft.EntityFrameworkCore.Database.Command | Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Logs] ([BrandName], [FlightNum], [In], [LegNum], [NextLegNum], [Out], [PassengersCount])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2023-04-14 16:37:30.8683 | 10803 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | The foreign key property 'Log.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values. 
2023-04-14 16:37:30.8683 | 20301 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | Closing data reader to 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20300 | DEBUG | Microsoft.EntityFrameworkCore.Database.Command | A data reader for 'AirportDB' on server 'DESKTOP-3SIRGOR' is being disposed after spending 0ms reading results. 
2023-04-14 16:37:30.8683 | 20002 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8683 | 20003 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Closed connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR' (0ms). 
2023-04-14 16:37:30.8683 | 10807 | DEBUG | Microsoft.EntityFrameworkCore.ChangeTracking | An entity of type 'Log' tracked by 'DataContext' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values. 
2023-04-14 16:37:30.8683 | 10005 | DEBUG | Microsoft.EntityFrameworkCore.Update | SaveChanges completed for 'DataContext' with 1 entities written to the database. 
2023-04-14 16:37:30.8683 | 0 | INFO | Server.DAL.Repositories.AirportRepository | AirportRepository: Log added! 
2023-04-14 16:37:30.8683 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Sending new flight log to clients... 
2023-04-14 16:37:30.8683 | 0 | INFO | WebAPI.Services.FlightsLogsHubContext | FlightsLogsHubContext: Flight log sent! 
2023-04-14 16:37:30.8683 | 0 | INFO | Server.Services.FlightsManagerService | FlightsManagerService: Flight number: b46ee645 (id: 1) is now departing! 
2023-04-14 16:37:30.8789 | 103 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action method Server.Controllers.FlightsController.Post (WebAPI), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 34634.4661ms. 
2023-04-14 16:37:30.8789 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:37:30.8789 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter. 
2023-04-14 16:37:30.8789 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:37:30.8789 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter. 
2023-04-14 16:37:30.8789 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:37:30.8789 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:37:30.8789 | 5 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Before executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:37:30.8789 | 6 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | After executing action result Microsoft.AspNetCore.Mvc.EmptyResult. 
2023-04-14 16:37:30.8789 | 52 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:37:30.8789 | 53 | TRACE | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter. 
2023-04-14 16:37:30.8789 | 105 | INFO | Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker | Executed action Server.Controllers.FlightsController.Post (WebAPI) in 35614.1587ms 
2023-04-14 16:37:30.8789 | 1 | INFO | Microsoft.AspNetCore.Routing.EndpointMiddleware | Executed endpoint 'Server.Controllers.FlightsController.Post (WebAPI)' 
2023-04-14 16:37:30.8789 | 9 | DEBUG | Microsoft.AspNetCore.Server.Kestrel.Connections | Connection id "0HMPSTL61NTB1" completed keep alive response. 
2023-04-14 16:37:30.8789 | 10407 | DEBUG | Microsoft.EntityFrameworkCore.Infrastructure | 'DataContext' disposed. 
2023-04-14 16:37:30.8789 | 20007 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposing connection to database 'AirportDB' on server 'DESKTOP-3SIRGOR'. 
2023-04-14 16:37:30.8926 | 20008 | DEBUG | Microsoft.EntityFrameworkCore.Database.Connection | Disposed connection to database '' on server '' (0ms). 
2023-04-14 16:37:30.8926 | 2 | INFO | Microsoft.AspNetCore.Hosting.Diagnostics | Request finished HTTP/1.1 POST https://localhost:7014/api/flights application/json 127 - 200 0 - 35661.4974ms 
